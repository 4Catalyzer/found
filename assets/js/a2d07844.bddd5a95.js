"use strict";(self.webpackChunkfound_docs=self.webpackChunkfound_docs||[]).push([[1403],{6690:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>l,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"advanced/redux-integration","title":"Redux integration","description":"Found uses Redux to manage all serializable state. Farce uses Redux actions for navigation. As such, you can also access those serializable parts of the routing state from the store state, and you can navigate by dispatching actions.","source":"@site/docs/advanced/redux-integration.md","sourceDirName":"advanced","slug":"/advanced/redux-integration","permalink":"/found/docs/advanced/redux-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/4Catalyzer/found/edit/master/www/docs/advanced/redux-integration.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Custom route classes","permalink":"/found/docs/advanced/custom-route-classes"},"next":{"title":"Minimizing bundle size","permalink":"/found/docs/advanced/minimize-bundle"}}');var r=t(4848),a=t(8453);const s={sidebar_position:6},c="Redux integration",i={},d=[];function u(e){const n={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"redux-integration",children:"Redux integration"})}),"\n",(0,r.jsx)(n.p,{children:"Found uses Redux to manage all serializable state. Farce uses Redux actions for navigation. As such, you can also access those serializable parts of the routing state from the store state, and you can navigate by dispatching actions."}),"\n",(0,r.jsxs)(n.p,{children:["If you are using your own Redux store, you can create your own router via ",(0,r.jsx)(n.code,{children:"createBaseRouter"})," to have a single store that contains both routing state and other application state. Additionally, if you need to make this store available in ",(0,r.jsx)(n.code,{children:"getData"})," methods on routes, pass it to ",(0,r.jsx)(n.code,{children:"matchContext"})," on the router component."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'import {\n  Actions as FarceActions,\n  BrowserProtocol,\n  createHistoryEnhancer,\n  queryMiddleware,\n} from "farce";\nimport {\n  createConnectedRouter,\n  createMatchEnhancer,\n  createRender,\n  foundReducer,\n  Matcher,\n  resolver,\n} from "found";\nimport { Provider } from "react-redux";\nimport { combineReducers, compose, createStore } from "redux";\n\n/* ... */\n\nconst store = createStore(\n  combineReducers({\n    found: foundReducer,\n  }),\n  compose(\n    createHistoryEnhancer({\n      protocol: new BrowserProtocol(),\n      middlewares: [queryMiddleware],\n    }),\n    createMatchEnhancer(new Matcher(routeConfig)),\n  ),\n);\n\nstore.dispatch(FarceActions.init());\n\nconst Router = createBaseRouter({\n  render: createRender({\n    renderError: ({ error }) => (\n      <div>{error.status === 404 ? "Not found" : "Error"}</div>\n    ),\n  }),\n});\n\nconst getFoundState = (state) => {\n  return state.found;\n};\n\nfunction ConnectedRouter(props) {\n  const store = useStore();\n  const foundState = useSelector(getFoundState, shallowEqual);\n\n  return <Router {...props} {...foundState} store={store} />;\n}\n\nconst root = createRoot(document.getElementById("root"));\n\nroot.render(\n  <Provider store={store}>\n    <ConnectedRouter resolver={resolver} />\n  </Provider>,\n);\n'})}),"\n",(0,r.jsxs)(n.p,{children:["To access the current routing state, connect to the ",(0,r.jsx)(n.code,{children:"resolvedMatch"})," property of the ",(0,r.jsx)(n.code,{children:"foundReducer"})," state. To navigate, dispatch the appropriate actions from Farce."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'import { Actions as FarceActions } from "farce";\nimport { connect } from "react-redux";\n\nconst MyConnectedComponent = connect(\n  ({ found: { resolvedMatch } }) => ({\n    location: resolvedMatch.location,\n    params: resolvedMatch.params,\n  }),\n  {\n    push: FarceActions.push,\n  },\n)(MyComponent);\n'})})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var o=t(6540);const r={},a=o.createContext(r);function s(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);